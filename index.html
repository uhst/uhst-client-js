<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>uhst</title>
	<meta name="description" content="Documentation for uhst">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">uhst</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>uhst</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#uhst-client" id="uhst-client" style="color: inherit; text-decoration: none;">
					<h1>uhst-client</h1>
				</a>
				<blockquote>
					<p>JavaScript client library for the User Hosted Secure Transmission framework.</p>
				</blockquote>
				<p><a href="https://travis-ci.org/uhst/uhst-client-js"><img src="https://travis-ci.org/uhst/uhst-client-js.svg?branch=master" alt="Build Status"></a>
					<a href="https://badge.fury.io/js/uhst"><img src="https://badge.fury.io/js/uhst.svg" alt="NPM Version"></a>
				<a href="https://gitter.im/uhst/community?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/uhst/community.svg" alt="Gitter"></a></p>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<p>Visit our website for more complete documentation: <a href="https://docs.uhst.io">https://docs.uhst.io</a>.</p>
				<a href="#support-and-discussions" id="support-and-discussions" style="color: inherit; text-decoration: none;">
					<h2>Support and discussions</h2>
				</a>
				<p>Join us on <a href="https://gitter.im/uhst/community?utm_source=share-link&amp;utm_medium=link&amp;utm_campaign=share-link">Gitter</a> or StackOverflow .</p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>The UHST client library is available on NPM:</p>
				<pre><code class="language-bash">$ npm install uhst --save</code></pre>
				<p>UMD bundle is also available from the releases tab and can be included with your resources.</p>
				<p>Finally, you may skip installing UHST altogether and just load the minified UMD bundle from a CDN:</p>
				<pre><code class="language-html"> <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/uhst/uhst.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<a href="#javsscript" id="javsscript" style="color: inherit; text-decoration: none;">
					<h3>JavsScript</h3>
				</a>
				<p>Assuming you have loaded the library, first create a new instance:</p>
				<pre><code class="language-JavaScript"><span class="hljs-keyword">var</span> test = <span class="hljs-keyword">new</span> uhst.UHST();</code></pre>
				<p>Refer to the documentation to learn about the options you can pass (including your own relay server URL, WebRTC configuration, etc.) .</p>
				<a href="#host" id="host" style="color: inherit; text-decoration: none;">
					<h4>Host</h4>
				</a>
				<p>Host in UHST is a peer which every other peer connects to. This concept is similar to listen-server in multiplayer games.
				The simplest way to create a new host is:</p>
				<pre><code class="language-JavaScript"><span class="hljs-keyword">var</span> host = test.host();
host.on(<span class="hljs-string">&quot;ready&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    alert(<span class="hljs-string">&quot;Host %s ready&quot;</span>, host.hostId);
});
host.on(<span class="hljs-string">&quot;connection&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">connection</span>(<span class="hljs-params">uhstSocket</span>) </span>{
    uhstSocket.on(<span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">incoming</span>(<span class="hljs-params">message</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Host received: %s&quot;</span>, message);
    });
    uhstSocket.on(<span class="hljs-string">&quot;open&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ready</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// note the socket is ready for sending only</span>
        <span class="hljs-comment">// after the &quot;open&quot; event fires!</span>
        uhstSocket.send(<span class="hljs-string">&quot;something&quot;</span>);
    });
});</code></pre>
				<p>Note that you can optionally specify a requested hostId when calling <code>host()</code> but it may not be
					accepted by the relay server. You should always use the <code>hostId</code> you get after receiving a <code>ready</code> event
					when joining the host.<br>
					By default the generated host ids will follow this pattern: <code>&lt;4-digit-relay-prefix&gt;-&lt;4-digit-host-id&gt;</code>.<br>
				To pass the <code>hostId</code> to a client browser you can embed it in a URL parameter or a QR code.</p>
				<a href="#client" id="client" style="color: inherit; text-decoration: none;">
					<h4>Client</h4>
				</a>
				<p>To connect to a host from another browser use the same <code>hostId</code> you received after <code>ready</code> event:</p>
				<pre><code class="language-JavaScript"><span class="hljs-keyword">var</span> client = test.join(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">host-id-from-host-ready-above</span>&gt;</span>);
client.on(&quot;open&quot;, function open() {
    client.send(&quot;hello&quot;);
});
client.on(&quot;message&quot;, function incoming(message) {
    console.log(&quot;Client received: %s&quot;, message);
});</span></code></pre>
				<p>The UHST client interface is similar to the HTML5 WebSocket interface but instead of a dedicated server, one peer acts as a host for other peers to join.<br></p>
				<p>Once a client and a host have connected they can exchange messages asynchronously. Arbitrary number of clients can connect to the same host but clients cannot
				send messages to each other, they can only communicate with the host.</p>
				<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
					<h2>Contributing</h2>
				</a>
				<p>This project is maintained by a community of developers. Contributions are welcome and appreciated.
					You can find UHST on GitHub; feel free to start an issue or create a pull requests:<br>
				<a href="https://github.com/uhst/uhst-client-js">https://github.com/uhst/uhst-client-js</a>.</p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>Copyright (c) 2021 Stefan Dimitrov<br>
				Licensed under MIT License.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class="label tsd-is-external">
						<span>Internals</span>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class="label tsd-is-external">
						<span>Externals</span>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_apiclient_.html">&quot;<wbr>Api<wbr>Client&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_networkclient_.html">&quot;<wbr>Network<wbr>Client&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_relayclient_.html">&quot;<wbr>Relay<wbr>Client&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_relayclientprovider_.html">&quot;<wbr>Relay<wbr>Client<wbr>Provider&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_relaysocket_.html">&quot;<wbr>Relay<wbr>Socket&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_relaysocketprovider_.html">&quot;<wbr>Relay<wbr>Socket<wbr>Provider&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_relayurlsprovider_.html">&quot;<wbr>Relay<wbr>Urls<wbr>Provider&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_uhst_.html">&quot;UHST&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_uhsterrors_.html">&quot;<wbr>Uhst<wbr>Errors&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_uhsthost_.html">&quot;<wbr>Uhst<wbr>Host&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_webrtcsocket_.html">&quot;<wbr>WebRTCSocket&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_webrtcsocketprovider_.html">&quot;<wbr>WebRTCSocket<wbr>Provider&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_contracts_uhstrelayclient_.html">&quot;contracts/<wbr>Uhst<wbr>Relay<wbr>Client&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_contracts_uhstsocket_.html">&quot;contracts/<wbr>Uhst<wbr>Socket&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_contracts_uhstsocketprovider_.html">&quot;contracts/<wbr>Uhst<wbr>Socket<wbr>Provider&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_clientconfiguration_.html">&quot;models/<wbr>Client<wbr>Configuration&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_hostconfiguration_.html">&quot;models/<wbr>Host<wbr>Configuration&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_hostmessage_.html">&quot;models/<wbr>Host<wbr>Message&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_message_.html">&quot;models/<wbr>Message&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_relay_.html">&quot;models/<wbr>Relay&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_relayevent_.html">&quot;models/<wbr>Relay<wbr>Event&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_relaymessage_.html">&quot;models/<wbr>Relay<wbr>Message&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_socketparams_.html">&quot;models/<wbr>Socket<wbr>Params&quot;</a>
					</li>
					<li class=" tsd-kind-module tsd-is-external">
						<a href="modules/_models_index_.html">&quot;models/index&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>